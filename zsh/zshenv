#!/usr/bin/env zsh
#login interactive scriptの全てから参照される

#unique属性を付加
typeset -U path PATH MANPATH INFOPATH fpath

in_path(){
  which "$1" >/dev/null 2>&1
  return $?
}

exists_source(){
  [[ -f "$1" ]] && source "$1"
}

export WORDCHARS='*?!#%[]{}<>():;~.-`@\|' # ^$&_+
export EDITOR=vim
export VISUAL=vim

# TODO man kill した時にjで終了しなくする
export PAGER=less
export LESS='-i --RAW-CONTROL-CHARS --LONG-PROMPT --QUIET --chop-long-lines --quit-if-one-screen --no-init'
export GIT_PAGER="less --no-init" # --no-initが無いと git logの表示が上手く行かない

export GZIP='-v9N'
export WWW_BROWSER=w3m
export DOWNLOADER="wget -S"
# export TERM=screen-256color-bce # italicが使えない
# [[ -n "$TMUX" ]] && export TERM='xterm-256color'

export C_CPP_WALL_OPT='-Wall -Wextra -Wno-unused-parameter -Wno-unused-variable -Wno-unused-value -Wno-ignored-qualifiers'
export C_COMP_OPT="$C_CPP_WALL_OPT -lm -std=c11"
export CPP_COMP_OPT="$C_CPP_WALL_OPT -std=c++1z"
export GCC_OPT="$C_COMP_OPT -O0 -fno-stack-protector"
export REPO_HTTPS='https://github.com/YuutoIto'
export REPO_SSH='git@github.com:YuutoIto'
export ZSH_DOT_DIR="$(dirname $(readlink $HOME/.zshenv))"

# Order is important
export PATH="$HOME/bin:$HOME/.local/bin:$PATH"
export PATH="$HOME/.rbenv/bin:$PATH"
in_path rbenv && eval "$(rbenv init - zsh)"

if [[ -n "${WINDOWID:-}" && -f $HOME/.xmodmap ]]; then
  xmodmap ~/.xmodmap
fi

stty -ixon -ixoff
